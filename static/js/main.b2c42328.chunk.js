(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{203:function(e,t,n){e.exports=n(402)},233:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(208),n(30)),l=n(12),s=n.n(l),u=n(23),d=n(29),m=n(49),p=n.n(m),f=function(e,t){return function(){var n=Object(u.a)(s.a.mark((function n(a){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.post("http://localhost:5000/create/add_weight",e);case 3:r=n.sent,console.log(r.data),t("/at/home"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),n.t0.response&&console.log(n.t0.response.data);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},h=function(){return function(){var e=Object(u.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.localStorage.getItem("token"),e.next=4,p.a.post("http://localhost:5000/fetch/get_data",{token:n});case 4:a=e.sent,t({type:"FETCH_DATA",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?t({type:"MAIN_ERROR",payload:e.t0.response.data}):console.log("problem with getData client side",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},g=n(32),v=n(407),y=n(179),w=n(403),E=(n(233),function(){console.log("home 123 is running");var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(d.a)(c,2),l=i[0],m=(i[1],Object(g.c)((function(e){return e.data}))),p=Object(g.c)((function(e){return e.errors.error})),f=(Object(g.c)((function(e){return e.users.email})),Object(g.b)());Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(h());case 2:o(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o(!0),function(){e.apply(this,arguments)}()}),[f]);var E=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.data.map((function(e){return e.gap_from_yesterday<0?e.feeling="\ud83d\ude01":e.feeling="\ud83d\ude22"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();m.data&&m.data.length>0&&E()&&console.log(m.data);return r.a.createElement("div",{style:{margin:30}},r.a.createElement("h1",null,"Home ",l),n?r.a.createElement(y.a,{size:"large",className:"spinner"}):p?r.a.createElement("h1",null,r.a.createElement(v.a,{message:"an Issue has occurred",description:p,type:"error"})):r.a.createElement("div",null,m.data&&m.data.length>0&&r.a.createElement(w.a,{rowClassName:function(e,t){return e.gap_from_yesterday<0?"lost":"gained"},bordered:!0,scroll:!0,pagination:!1,rowKey:function(e){return Math.random()},columns:[{title:"Date",dataIndex:"fullDate",key:"fullDate"},{title:"Day of week",dataIndex:"day",key:"day"},{title:"Weight",dataIndex:"weight",key:"weight"},{title:"Gap from yesterday",dataIndex:"gap_from_yesterday",key:"yesterday_gap"},{title:"Exercise",dataIndex:"exercise",key:"exercise"},{title:"Gap_from_beginning",dataIndex:"gap_from_beginning",key:"beginning_gap"},{title:"comment",dataIndex:"comment",key:"comment"},{title:"feeling",dataIndex:"feeling",key:"feeling"}],dataSource:m.data})))}),b=n(404),k=n(405),O=n(406),j=n(105),x=n(37),I=function(e){var t=Object(g.b)(),n=Object(a.useState)(!1),o=Object(d.a)(n,2),c=(o[0],o[1]),i=Object(a.useState)(""),l=Object(d.a)(i,2),s=(l[0],l[1]),u=Object(g.c)((function(e){return e.users.email})),m=Object(g.c)((function(e){return e.errors.error}));console.log("errors is",m),Object(a.useEffect)((function(){s(m)}),[m]);var p=function(n){u.length>0&&(n.email=u),t(e.action(n,e.reDirect))},f=function(e){console.log("Failed:",e)};return r.a.createElement("div",null,r.a.createElement("div",null,m&&r.a.createElement("h3",{style:{color:"#ff4d4f"}},m),r.a.createElement("div",null,r.a.createElement(b.a,{name:"basic",onFinish:p,onFinishFailed:f},e.email&&r.a.createElement(b.a.Item,{type:"email",label:"email",name:"email",rules:[{required:!0,type:"email",message:"please insert a valid email"}]},r.a.createElement(k.a,null)),e.password&&r.a.createElement(b.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(k.a.Password,null)),e.confirmPassword&&r.a.createElement(b.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,n){return n&&t("password")!==n?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(k.a.Password,null)),e.weight&&r.a.createElement(b.a.Item,{label:"Weight",name:"weight",rules:[{required:!0,message:"Please input weight in numbers"}]},r.a.createElement(O.a,null)),e.comment&&r.a.createElement(b.a.Item,{label:"Comment",name:"comment"},r.a.createElement(k.a.TextArea,null)),e.exercise&&r.a.createElement(b.a.Item,{rules:[{required:!0,message:"We're on to you, say it !"}],name:"exercise",label:"Did you exercise?",style:{marginBottom:20},colon:!1},r.a.createElement(j.a.Group,null,r.a.createElement(j.a,{value:!0,onChange:function(){return c(!0)}},"Yes"),r.a.createElement(j.a,{value:!1,onChange:function(){return c(!1)}},"No"))),r.a.createElement(b.a.Item,null,r.a.createElement(x.a,{type:"primary",htmlType:"submit",size:"large",style:{borderRadius:"10%"}},"Submit"))))))},_=function(e){return r.a.createElement("div",{id:"abc"},r.a.createElement("div",null,r.a.createElement("h1",null,"Enter your data")),r.a.createElement(I,{exercise:!0,weight:!0,comment:!0,action:f,reDirect:e.history.push}))},A=function(e,t){return function(){var n=Object(u.a)(s.a.mark((function n(a){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.post("http://localhost:5000/users/signUp",e);case 3:r=n.sent,r.data,t("/signin"),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("problem with signing up on client side",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},R=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),o=n[0],c=n[1];console.log("signin working");var l=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://localhost:5000/users/test");case 2:t=e.sent,console.log("res.data",t.data),c(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{margin:30}},r.a.createElement("button",{onClick:function(){return l()}},"Check"),o&&o.length>0&&r.a.createElement("h1",null,o),r.a.createElement("h3",null,"Dont have an account ? sign up ",r.a.createElement(i.b,{to:"/at/signup"},"Here")))},S=function(e){return r.a.createElement("div",{style:{margin:20}},r.a.createElement("h1",null,"Register"),r.a.createElement(I,{email:!0,password:!0,confirmPassword:!0,action:A,reDirect:e.history.push}))},D=n(60),C=function(){return r.a.createElement("div",null,r.a.createElement(D.a,{mode:"horizontal",selectedKeys:window.location.pathname},r.a.createElement(D.a.Item,{key:"/signin"},r.a.createElement(i.b,{to:"/at/signin"},"Signin")),r.a.createElement(D.a.Item,{key:"/home"},r.a.createElement(i.b,{to:"/at/home"},"Home")),r.a.createElement(D.a.Item,{key:"/add-check"},r.a.createElement(i.b,{to:"/at/add-check"},"Add check"))))};var P=function(){return r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement(a.Fragment,null,r.a.createElement(C,null),r.a.createElement(i.c,{path:"/at/home",exact:!0,component:E}),r.a.createElement(i.c,{path:"/at/add-check",component:_}),r.a.createElement(i.c,{path:"/at/signin",component:R}),r.a.createElement(i.c,{path:"/at/signup",component:S}))))},T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function W(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var F=n(55),N=n(50),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAIN_ERROR":return console.log("reducer - main error"),Object(N.a)({},e,{error:t.payload});case"NOT_AUTHORIZED_ERROR":return console.log("reducer - not authorized"),Object(N.a)({},e,{error:t.payload});default:return e}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA":case"ADD_DATA":return Object(N.a)({},e,{data:t.payload});default:return e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTH":return console.log("signin working in usersReducer"),Object(N.a)({},e,{email:t.payload});default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS":return console.log("some success happened"),{state:t.payload};default:return e}},B=Object(F.c)({data:H,errors:U,users:q,success:z}),G=n(199),M=Object(F.d)(B,Object(F.a)(G.a));c.a.render(r.a.createElement(g.a,{store:M},r.a.createElement(P,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/at",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/at","/service-worker.js");T?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):W(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):W(t,e)}))}}()}},[[203,1,2]]]);
//# sourceMappingURL=main.b2c42328.chunk.js.map